!function(){"use strict";var e,t,r,s,n,i,l={52396:function(e,t,r){var s,n,i=r(86070),l=r(30758),a=r(99576);r(65568),r(11639),r(5445);class o extends l.Component{timer;delay;state={starting:new Date().getTime(),elapsed:0};constructor(e){super(e),this.delay=void 0===e.delay?0:e.delay}componentDidMount(){this.update()}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}update=()=>{this.setState(({starting:e})=>({elapsed:new Date().getTime()-e})),setTimeout(this.update,250)};render(){let{children:e}=this.props,{elapsed:t}=this.state;if(t>=this.delay){let r=Math.floor(t/1e3);return"function"==typeof e?e({seconds:r}):e}return null}}var c=((s=c||{}).ResponseSize="ResponseSize",s.Duration="Duration",s.Path="Path",s.Header="Header",s.StatusCode="StatusCode",s),d=((n=d||{}).Attribute="attb",n.Operator="op",n.Value="val",n.Unit="unit",n);class h{human;value;constructor(e,t,r){this.value=r,this.human=`${e}${t}`.trim()}static fromSize(e,t){return new h(e,t,e*function(e){switch(e){case"kb":return 1024;case"mb":return 1048576;case"b":return 1;default:throw Error(`Invalid size unit ${e}`)}}(t))}static fromDuration(e,t){return new h(e,t,e*function(e){switch(e){case"ms":return 1e6;case"s":return 1e9;case"m":return 6e10;case"h":return 36e11;case"d":return 864e11;default:throw Error(`Invalid time unit ${e}`)}}(t))}}class u{attr="";op;unitValue;constructor(e,t){this.op=e,this.unitValue=t}check(e){return void 0!==e&&this.op.eval(e,this.unitValue.value)}getAttribute(){return this.attr}getOperator(){return this.op.toString()}getValue(){return this.unitValue.human}}class p extends u{attr="ResponseSize";constructor(e,t,r){super(e,h.fromSize(t,r))}match(e){let{response:t}=e;return!!t&&this.check(t.size)}}class x extends u{attr="Duration";constructor(e,t,r){super(e,h.fromDuration(t,r))}match(e){let{duration:t}=e;return!!t&&this.check(t.nanos)}}class g{attr="";op;val;constructor(e,t){this.op=e,this.val=t}check(e){return void 0!==e&&this.op.eval(e,this.val)}getAttribute(){return this.attr}getOperator(){return this.op.toString()}getValue(){return this.val}}class m extends g{attr="Path";match(e){let{request:t}=e;return!!t&&this.check(t.path)}}class j extends g{attr="StatusCode";match(e){let{response:t}=e;if(!t)return!1;let r=`${t.statusCode}`;return this.check(r)}}class f extends g{name;constructor(e,t,r){super(e,t),this.name=r,this.attr=`Header${r}`}match(e){let t={};if(e.request.headers.forEach(e=>{t[e.key]=[e.val]}),t[this.name]){for(let e of t[this.name])if(this.check(e))return!0}let{response:r}=e;if(r){let e={};if(r.headers.forEach(t=>{e[t.key]=[t.val]}),e[this.name]){for(let t of e[this.name])if(this.check(t))return!0}}return!1}}class v{filters;constructor(e){this.filters=e}match(e){for(let t=0;t<this.filters.length;t+=1)if(!this.filters[t].match(e))return!1;return!0}}class y{repr="";toString(){return this.repr}}class b extends y{repr="<";eval(e,t){return e<t}}class w extends y{repr=">";eval(e,t){return e>t}}class S extends y{repr="<=";eval(e,t){return e<=t}}class N extends y{repr=">=";eval(e,t){return e>=t}}class C extends y{repr="==";eval(e,t){return e===t}}class A extends y{repr="!=";eval(e,t){return e!==t}}class T extends y{repr="match";eval(e,t){return RegExp(`${t}`).test(`${e}`)}}class F extends T{repr="!match";eval(e,t){return!super.eval(e,t)}}var k=r(51778);function R(e){return Number(e?.seconds??0)+Number(e?.nanos??0)/1e9}let D=(e,t)=>`${e} ${t}${1===e?"":"s"}`,E=e=>t=>e(t),O=E(e=>{if(e>=3600){let t=Math.floor(e/60),r=Math.floor(t/60);return t%60==0?D(r,"hour"):[D(r,"hour"),D(t-60*r,"minute")].join(", ")}return e>=60?D(Math.floor(e/60),"minute"):"less than a minute"});function M({expires:e,...t}){if(null==e)return null;let r=new Date().getTime()/1e3,s=e.seconds-r;return(0,i.jsx)("div",{className:`alert ${s<=300?"alert-danger":"alert-warning"}`,role:"alert",children:((e,t)=>{var r;let{plan:s,link:n}=(r=t.plan)?{plan:`You are on the ${r} plan.`,link:(0,i.jsxs)("span",{children:[(0,i.jsx)("a",{href:"https://dashboard.ngrok.com/billing/plan",children:"Upgrade to a paid plan"})," for sessions that don't expire"]})}:{plan:"You are using ngrok without an account. ",link:(0,i.jsxs)("span",{children:[(0,i.jsx)("a",{href:"https://ngrok.com/signup",children:"Sign up"})," for longer sessions"]})};return e>=0?(0,i.jsxs)("span",{children:[s,"Your session will end in ",O(e),". ",n,"."]}):(0,i.jsxs)("span",{children:["Your session expired ",O(-1*e)," ago. ",n," or restart ngrok."]})})(s,{expires:e,...t})})}let P=({tunnelURLs:e,plan:t,expires:r,children:s})=>(0,i.jsxs)(i.Fragment,{children:[s,(0,i.jsx)(M,{plan:t,expires:r}),(0,i.jsxs)("div",{className:"col-md-6 col-md-offset-3 well get-started",children:[(0,i.jsx)("h4",{children:"No requests to display yet"}),(0,i.jsx)("hr",{}),(0,i.jsx)("h5",{children:"To get started, make a request to one of your tunnel URLs"}),(0,i.jsx)("ul",{className:"tunnels",children:e.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:e,children:e})},e))})]})]}),$=({multiFilter:e,removeFilter:t})=>(0,i.jsx)(i.Fragment,{children:e.filters.map((e,r)=>(0,i.jsxs)("div",{className:"eeBX6OFJ_nvwBsgwFf4b",children:[(0,i.jsx)("button",{type:"button",className:"close","aria-label":"Close",onClick:()=>t(r),children:(0,i.jsx)("span",{"aria-hidden":"true",children:"Ã—"})}),[(0,i.jsx)("span",{children:e.getAttribute()},"attb"),(0,i.jsx)("span",{children:e.getOperator()},"operator"),(0,i.jsx)("span",{children:e.getValue()},"value")]]},e.getValue()))});var I=r(93856);let q=({text:e,classNames:t})=>(0,i.jsx)(i.Fragment,{children:e.split("").map((e,r)=>{let s=(t||[]).filter(({range:e})=>{if(!Array.isArray(e)||0===e.length)return!0;let[t,s]=e;return void 0!==t&&(void 0===s?t<=r:t<=r&&r<s)}).map(({className:e})=>e.trim()).join(" ").trim();return(0,i.jsx)("span",{className:s,children:e},r)})});var H={measuringTape:"gq0OYMGi116s663BXlin",unit:"RnTEMw2IDrrQkFw53EEI",showUnit:"UYP9hPa18dE33I8u5XhD"};let U=({text:e,unit:t,classNames:r})=>(0,i.jsxs)("p",{className:H.measuringTape,children:[(0,i.jsx)(q,{text:e,classNames:r}),(0,i.jsx)("span",{className:(0,I.a)(H.unit,t&&H.showUnit),children:t})]});var B={selected:"NC5IfM896GoyXbDx_kVl"};class z extends l.Component{input;state={focus:!1};handleRef=e=>{this.input||(this.input=e,this.props.handleRef(e))};handleFocus=e=>{this.props.handleFocus(e),this.setState({focus:!0})};handleBlur=e=>this.props.handleBlur(e);handleKeyDown=e=>{this.props.handleKeyDown(e),this.forceUpdate()};render(){let{classNames:e,value:t,unit:r,handleChange:s,handleKeyUp:n,placeholder:l,inputClassName:a,inputProps:o}=this.props,{focus:c}=this.state,d=((e,t,r)=>{let s=((e,t)=>{if(!1===e||void 0===t)return;let{selectionStart:r}=t,{selectionEnd:s}=t;if(void 0!==r&&void 0!==s&&r!==s)return{range:[r||void 0,s||void 0],className:B.selected}})(t,r);return(null!=s?[...e,s]:e).filter(Boolean)})(e,c,this.input);return(0,i.jsxs)("div",{children:[(0,i.jsx)(U,{text:t,classNames:d,unit:r}),(0,i.jsx)("input",{type:"text",onFocus:this.handleFocus,onMouseDown:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onChange:s,onKeyUp:n,placeholder:l,ref:this.handleRef,value:t,className:a,...o})]})}}var V={container:"P8nirBK5NEC4NSAJ6UNL",active:"_nmI347OQDlXDPah5w7j"};let _=({selected:e,handleMouseOver:t,handleClick:r,children:s,getRef:n,onFocus:l})=>{let a=(0,I.a)({[V.active]:e});return(0,i.jsx)("li",{ref:n,className:a,onMouseOver:t,onFocus:l,children:(0,i.jsx)("a",{onMouseDown:r,children:s})})};class K extends l.Component{dropdown;selected;constructor(e){super(e),this.dropdown=l.createRef(),this.selected=l.createRef()}componentDidUpdate(){if(this.dropdown.current&&this.selected.current){let e=this.dropdown.current.offsetHeight,t=this.dropdown.current.scrollTop,r=(({dropdownHeight:e,dropdownScroll:t,selectedHeight:r,selectedPosition:s,padding:n})=>s+r>e+t?s+r-e+n:s<t?s-n:null)({dropdownHeight:e,dropdownScroll:t,selectedHeight:this.selected.current.offsetHeight,selectedPosition:this.selected.current.offsetTop,padding:10});null!==r&&(this.dropdown.current.scrollTop=r)}}render(){let{items:e,handleMouseOver:t,handleClick:r,selected:s,isFocused:n,renderItem:l}=this.props;if(0===e.length)return null;let a=(0,I.a)(V.container,{open:n});return(0,i.jsx)("div",{className:a,children:(0,i.jsx)("ul",{className:"dropdown-menu",ref:this.dropdown,children:e.map((e,n)=>{let a=s===n;return(0,i.jsx)(_,{selected:a,getRef:a?this.selected:void 0,handleMouseOver:t(n),handleClick:r,children:l?l(e):e},n)})})})}}class L extends l.Component{state={focus:!1,selected:0};static defaultProps={items:[],handleKeyDown:()=>{},handleSelect:()=>{},children:e=>(0,i.jsx)("input",{onKeyDown:e.handleKeyDown,onFocus:e.handleFocus,onBlur:e.handleBlur})};UNSAFE_componentWillReceiveProps(e){JSON.stringify(this.props.items)!==JSON.stringify(e.items)&&this.setState({selected:0})}handleKeyDown=e=>{let{items:t,handleKeyDown:r}=this.props,{selected:s}=this.state;if(["ArrowUp","ArrowDown"].includes(e.key)){e.preventDefault();let r=s+("ArrowDown"===e.key?1:-1);this.setState({selected:((e,t=0)=>{let r=e.length;return 0===r?0:(r+(r+t))%r})(t,r)})}else"Enter"===e.key||"Tab"===e.key?(e.preventDefault(),this.handleSelect()):r(e)};handleMouseOver=e=>()=>{this.setState({selected:e})};handleFocus=e=>()=>this.setState({focus:e});handleSelect=e=>{let{items:t,handleSelect:r}=this.props,{selected:s}=this.state;e&&e.preventDefault(),r(t[s]),this.setState({selected:0})};render(){let{children:e,items:t,renderItem:r}=this.props,{focus:s,selected:n}=this.state;return(0,i.jsxs)("div",{className:"x8yIxJhMAHkeElv6BTHX",children:[e({handleKeyDown:this.handleKeyDown,handleFocus:this.handleFocus(!0),handleBlur:this.handleFocus(!1)}),(0,i.jsx)(K,{items:t,handleMouseOver:this.handleMouseOver,selected:n,isFocused:s,handleClick:this.handleSelect,renderItem:r})]})}}let W=e=>{let[t,r,...s]=e.split(" ");if(s.length>0){let e=s.join("").match(/(\d|\.)+|\D+/g)||[];return 0===e.length?[t,r,""]:Number.isNaN(Number((e[0]||"").replace(".","")))?[t,r,e[0]||""]:[t,r,`${e[0]}`,e[1]].filter(e=>e)}return void 0!==r?[t,r]:[t]};class G{attb;op;val;unit;activeIndex=0;text="";error;constructor(e){this.text=e,[this.attb,this.op,this.val,this.unit]=W(e)}getAttribute=()=>this.attb;getOperator=()=>this.op;getValue=()=>this.val;getUnit=()=>this.unit;getActivePart=()=>void 0!==this.unit?d.Unit:void 0!==this.val?d.Value:void 0!==this.op?d.Operator:d.Attribute;addParts(e){try{let t=W(this.text);if(this.activeIndex+=this.attb.length+1,t.length<3||!e.addOperator(this.op)||(this.activeIndex+=t[1].length+1,t.length<3||!e.addValue(this.val))||(this.activeIndex+=t[2].length,t.length<4||!e.addUnit(this.unit)))return}catch(e){this.error=e?.message}}getActiveIndex(){return this.activeIndex}getError(){return this.error}}let Q=["Duration","ResponseSize","Path","StatusCode",...["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Datetime","Access-Control-Request-Method","Access-Control-Request-Headers","A-IM","Authorization","Cache-Control","Connection","Content-Length","Content-MD5","Content-Type","Cookie","Date","Expect","Forwarded","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","User-Agent","Upgrade","Via","Warning"].map(e=>`Headers.${e}`)];class J{attributeSuggestions=[];builder;partialFilter;text="";constructor(e,t){this.mergeHeadersWithAttributes(t),this.text=e,this.partialFilter=new G(e),this.partialFilter.getActivePart()!==d.Attribute&&(this.builder=this.getBuilder(this.partialFilter),this.builder&&this.partialFilter.addParts(this.builder))}getFilter(){return this.builder?this.builder.getFilter():null}mergeHeadersWithAttributes=e=>{let t=[...Q,...e.map(e=>`Headers.${e}`)].reduce((e,t)=>({...e,[t]:t}),{});this.attributeSuggestions=Object.keys(t).sort((e,t)=>ea(e,t))};getBuilder(e){switch(e.getAttribute()){case"StatusCode":return new et(e);case"ResponseSize":return new Z(e);case"Duration":return new Y(e);case"Path":return new er(e);default:if(e.getAttribute().startsWith("Headers."))return new es(e);return}}getMatchingSuggestions(e=[]){let t=this.partialFilter?this.partialFilter.getActivePart():d.Attribute,r=this.getActiveAttributes(t,e),s=[d.Attribute,d.Unit].includes(t),n=this.getSuggestions();if(0===n.length)return[];let i=this.text.slice(this.partialFilter.getActiveIndex());if(!i)return en(n,r).map(e=>({text:e}));let l=en(n,r).reduce((e,t)=>{let r=ec(i,t);if(!r)return e;let{matches:s,contiguous:n}=r;return[...e,{text:t,characters:s,contiguous:n}]},[]);return s?eo(l):l}getError(){return this.partialFilter.getError()}getActiveAttributes(e,t=[]){return e===d.Attribute?t.map(e=>e.getAttribute()):[]}getPlaceholderUnit=e=>{let t=this.partialFilter.getActivePart();if(this.builder&&[d.Value,d.Unit].includes(t))return this.builder.getPlaceholderUnit(e,this.text)};getSuggestions(){return this.builder?this.builder.getSuggestions():this.attributeSuggestions}getActiveIndex(){return this.partialFilter.getActiveIndex()}}class X{op;val;unit;partialFilter;units=[];constructor(e){this.partialFilter=e}getUnit(){return this.unit||this.units[0]}addOperator(e){return this.op=this.getOperator(e),!!this.op}getOperator(e=""){switch(e){case"<":return new b;case">":return new w;case">=":return new N;case"<=":return new S;case"!=":return new A;case"==":return new C;default:return}}addValue(e=""){if(0===e.length)return!1;let t=Number.parseFloat(e);if(Number.isNaN(t))throw Error(`Not a valid number ${e}`);return this.val=t,!0}getSuggestions(){let e=this.partialFilter.getActivePart();return e===d.Operator?[">","<",">=","<=","==","!="]:e===d.Value||e===d.Unit?this.units:[]}getPlaceholderUnit=(e,t="")=>{let r=(e[0]||{}).text;return r?r.substring(t.length):r}}class Y extends X{units=["ms","s","m","h","d"];addUnit(e){return!!this.val&&(this.unit=e,!0)}getFilter(){if(!this.op||!this.val)return null;try{return new x(this.op,this.val,this.getUnit())}catch{return null}}}class Z extends X{units=["kb","b","mb"];addUnit(e){return!!this.val&&(this.unit=e,!0)}getFilter(){if(!this.op||!this.val)return null;try{return new p(this.op,this.val,this.getUnit())}catch{return null}}}class ee{partialFilter;op;val;constructor(e){this.partialFilter=e}addOperator(e){return this.op=this.getOperator(e),void 0!==this.op}addValue(e){return this.val=e,this.val.length>0}getOperator(e){switch(e){case"!=":return new A;case"==":return new C;case"match":return new T;case"!match":return new F;default:return}}addUnit(){return!1}getSuggestions(){return this.partialFilter.getActivePart()===d.Operator?["==","!=","match","!match"]:[]}getPlaceholderUnit=()=>null}class et extends ee{getFilter(){return this.op&&this.val?new j(this.op,this.val):null}}class er extends ee{getFilter(){return this.op&&this.val?new m(this.op,this.val):null}}class es extends ee{name;constructor(e){super(e),this.name=e.getAttribute().slice(7)}getFilter(){return this.op&&this.val?new f(this.op,this.val,this.name):null}}let en=(e,t=[])=>e.filter(e=>!t.includes(e)),ei=e=>{if(!e.characters)throw Error("A suggestion without characters was found");for(let t=0;t<e.characters.length;t+=1)if(e.characters[t].isMatch)return t;throw Error("No matching character found; this is a bug")},el=e=>e.replace(/(-|\.)/gi,""),ea=(e,t)=>el(e).localeCompare(el(t)),eo=e=>e.sort((e,t)=>{let r=e.contiguous&&t.contiguous?t.contiguous-e.contiguous:e.contiguous?-1:t.contiguous?1:void 0;if(void 0===r)return ea(e.text,t.text);if(0!==r)return r;let s=ei(e)-ei(t);return 0!==s?s:ea(e.text,t.text)}),ec=(e,t)=>{let r=e.toLowerCase().split(""),s=0,n=0,i=t.split("").map(e=>{if(0===r.length)return{character:e,isMatch:!1};let t=e.toLowerCase()===r[0];return t?(s+=1,r.shift()):s=0,n<s&&(n=s),{character:e,isMatch:t}});if(!(r.length>0))return{contiguous:n,matches:i}};var ed={input:"DOslGrLdzgGsKY9WQalQ",error:"X28Cvi8FiFJvkqhnlGQU",isMatch:"tGKSS_4SXt2saQm4hER4"};function eh({suggestion:{text:e,characters:t}}){return t?(0,i.jsx)(i.Fragment,{children:t.map(({character:e,isMatch:t},r)=>(0,i.jsx)("span",{className:(0,I.a)({[ed.isMatch]:t}),children:e},r))}):(0,i.jsx)("span",{children:e})}let eu=(e,t,r)=>JSON.stringify(r(e))===JSON.stringify(r(t));class ep extends l.Component{input;state={text:"",headers:[]};componentDidMount(){let{roundTrips:e}=this.props;this.updateHeaders(e)}UNSAFE_componentWillReceiveProps(e){(({roundTrips:e},{roundTrips:t})=>eu(e,t,e=>e.map(e=>e.id)))(this.props,e)||this.updateHeaders(e.roundTrips),eu(this.props.multiFilter.filters,e.multiFilter.filters,e=>e)||this.focus()}handleKeyDown=e=>{let{handleBackspace:t}=this.props,{text:r}=this.state;"Backspace"===e.key&&""===r&&t()};handleChange=e=>{this.setState({text:e.target.value})};focus=()=>{this.input&&this.input.focus()};updateHeaders=e=>{this.setState({headers:function(e=[]){return Object.keys(e.reduce((e,t)=>{let r=t.request,{response:s}=t;return{...e,...ex(r.headers),...s?ex(s.headers):{}}},{}))}(e)})};handleSelect=e=>{let{addFilter:t}=this.props,{headers:r}=this.state,{text:s}=this.state,n=new J(s,r);e&&(s=`${s.slice(0,n.getActiveIndex())+e.text} `,this.setState({text:s}));let i=new J(s,r).getFilter();i&&(t(i),this.setState({text:""}))};getInput=e=>{this.input=e,this.props.getInput(this.input)};render(){let{multiFilter:e}=this.props,{text:t,headers:r}=this.state,s=new J(t,r),n=t.slice(s.getActiveIndex()),l=s.getMatchingSuggestions(e.filters),a=s.getPlaceholderUnit(l),o=void 0!==s.getError()||""!==n&&0===l.length;return(0,i.jsx)(L,{handleSelect:this.handleSelect,items:l,handleKeyDown:this.handleKeyDown,renderItem:e=>(0,i.jsx)(eh,{suggestion:e}),children:e=>(0,i.jsx)(z,{...e,handleChange:this.handleChange,placeholder:"Filter by",value:t,inputClassName:ed.input,handleRef:this.getInput,unit:a,classNames:o?[{className:ed.error,range:[s.getActiveIndex()]}]:[],inputProps:{spellCheck:"false"}})})}}let ex=e=>{let t={};return e.forEach(e=>{t[e.key]=e.val}),t};class eg extends l.Component{input;handleBackspace=()=>{let{multiFilter:e}=this.props;e.filters.length>0&&this.removeFilter(e.filters.length-1)};addFilter=e=>{let{multiFilter:t,handleUpdateFilter:r}=this.props;e&&r(new v(t.filters.concat(e)))};removeFilter=e=>{let t,{multiFilter:r,handleUpdateFilter:s}=this.props;s(new v((t=r.filters,t.slice(0,e).concat(t.slice(e+1)))))};getInput=e=>{this.input=e};render(){let{multiFilter:e,roundTrips:t}=this.props;return(0,i.jsx)("div",{className:"aceXBbdVds__X0WKDsHL",children:(0,i.jsxs)("div",{className:"Uw4Cu_2EuwyS4GKAw4fb",children:[(0,i.jsx)($,{multiFilter:e,removeFilter:this.removeFilter}),(0,i.jsx)(ep,{handleBackspace:this.handleBackspace,addFilter:this.addFilter,getInput:this.getInput,multiFilter:e,roundTrips:t})]})})}}var em=r(46452);class ej extends l.Component{interval;state={updated:new Date};componentDidMount(){"undefined"!=typeof window&&(this.interval=window.setInterval(()=>{this.setState({updated:new Date})},15e3))}componentWillUnmount(){clearInterval(this.interval)}render(){let{t:e}=this.props;if(!e)return null;let t=new Date(1e3*R(e)),r=t.toISOString();return(0,i.jsxs)("span",{title:r,className:"muted",children:[(0,em.m)(t,{includeSeconds:!0})," ","ago"]})}}let ef=(e,t)=>{let r=10**(t||0);return String(Math.round(e*r)/r)},ev=e=>{if(!e)return"";let t=e.nanos/1e3/1e3;return t>1e3?`${ef(t/1e3,2)}s`:`${ef(t,2)}ms`},ey=({body:e,msg:t="",rtId:r=""})=>{let{downloadMessage:s,downloadLinkText:n}=e.decodedSize!==e.displaySize?{downloadMessage:`The ${t} was truncated for display.`,downloadLinkText:`Download complete ${t}`}:""!==e.contentEncoding?{downloadMessage:`The ${t} was decoded for display.`,downloadLinkText:`Download original ${t}`}:{};if(void 0===s)return null;let l=`/inspect/http/${r}/${t}`;return(0,i.jsxs)("div",{className:"alert alert-warning",children:[s," ",(0,i.jsx)("a",{href:l,children:n})]})},eb=(0,i.jsx)("small",{className:"text-small text-muted",children:"no value"}),ew=({attrs:e,title:t})=>(0,i.jsxs)("div",{children:[t&&(0,i.jsx)("h6",{children:t}),(0,i.jsx)("table",{className:"table y82EFAMH7GxMkDU7q4A9",children:(0,i.jsx)("tbody",{children:e.map(([e,t])=>[].concat(t).map((t,r)=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:e}),(0,i.jsx)("td",{children:t||eb})]},`${e}-${r}`)))})})]}),eS=({attrs:e,title:t})=>e&&0!==e.length?(0,i.jsx)(ew,{title:t,attrs:e.sort((e,t)=>e.key.localeCompare(t.key)).map(({key:e,val:t})=>[e,t])}):(0,i.jsx)("div",{});var eN=r(31437),eC=r(18778),eA=r(30132),eT=r(5824);let eF={"text/xml":"xml","application/xml":"xml","text/html":"xml","text/css":"css","application/json":"json","text/javascript":"javascript","application/javascript":"javascript"},ek={json:/^application\/.*\+json/,xml:/^application\/.*\+xml/},eR={xml:eT.xml,json:eT.json},eD=({content:e})=>new TextDecoder().decode(e);class eE extends l.Component{codeRef;constructor(e){super(e),this.codeRef=l.createRef()}componentDidMount(){this.highlightError()}componentDidUpdate(){this.highlightError()}summary=()=>{let{body:e}=this.props;if(0===e.size)return null;let t=[];e.capturedSize!==e.size&&t.push(`${e.capturedSize} bytes captured`),e.decodedSize!==e.transferredSize&&t.push(`${e.decodedSize} bytes decoded`),e.displaySize!==e.decodedSize&&t.push(`${e.displaySize} bytes displayed`);let r="";t.length>0&&(r=`(${t.join(", ")})`);let s=e.rawContentType;return void 0!==e.contentEncoding&&""!==e.contentEncoding&&(s=`${s}, ${e.contentEncoding} encoded`),(0,i.jsxs)("h6",{children:[e.size," bytes ",s," ",r]})};show=()=>{let{body:e}=this.props,{form:t}=e;if(t&&t.length>0)return(0,i.jsx)(eS,{title:"Form Params",attrs:t});let r=(e=>{let t=e.contentType,r=eF[t];r||Object.entries(ek).some(([e,s])=>{let n=t.match(s);return n&&(r=e),n});let s=eD(e),n=eR[r];if(!e.error&&n)try{"text/html"!==e.contentType&&(s=n(s,"    "))}catch{}return r?eA.A.highlight(s,{language:r}).value:s.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;")})(e);return!e.isBinary&&r?(0,i.jsx)("pre",{children:(0,i.jsx)("code",{ref:this.codeRef,style:{pointerEvents:"none"},dangerouslySetInnerHTML:{__html:r}})}):null};error=()=>{let{body:e}=this.props;return e.error?(0,i.jsx)("div",{className:"alert",children:e.error}):null};highlightError=()=>{let{body:e}=this.props,t=e.errorOffset;if(t<0||!this.codeRef.current)return;let r=function(e){let t=[];return!function r(s){if(3===s.nodeType)t.push(e);else for(let e=0,t=s.childNodes.length;e<t;e+=1)r(s.childNodes[e])}(e),t}(this.codeRef.current);for(let e=0;e<r.length;e+=1)if((t-=r[e].nodeValue?.length||0)<0){r[e].parentNode.style.backgroundColor="orange";break}};render(){return(0,i.jsxs)("div",{children:[this.summary(),this.show(),this.error()]})}}let eO=({raw:e,type:t})=>e?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("pre",{children:(0,i.jsx)("code",{children:e})})}):(0,i.jsxs)("div",{className:"alert alert-info",children:["Binary ",t," not displayed"]}),eM=({rightControl:e,payload:t,type:r})=>{let s,n=(e=>{let{raw:t}=e;if(t)return(e=>{let t=[],r=[];for(let s=0;s<e.length;s+=1){let n=e[s];s%8||0===s||(t.push("	"),t.push.apply(t,r),t.push(`
`),r=[]),n<16&&t.push("0"),n<32||n>126?r.push("."):r.push(String.fromCharCode(n)),t.push(n.toString(16)),t.push(" "),r.push(" ")}if(r.length>0){let e=8-r.length/2;for(let r=0;r<e;r+=1)t.push("   ");t.push("	"),t.push.apply(t,r)}return t.join("")})(Array.from(t))})(t),l=(e=>{let{body:t}=e;if(t&&!t.isBinary&&""===t.contentEncoding){let{raw:t}=e;return new TextDecoder("utf-8").decode(t)}return""})(t);return"request"===r&&(s=t.queryParams),(0,i.jsxs)("div",{className:"c_ntGRLvxJqBuAEtn99Q",children:[e&&(0,i.jsx)("div",{className:"pull-right",children:e}),(0,i.jsxs)(eN.A,{defaultActiveKey:0,animation:!1,id:r,children:[(0,i.jsxs)(eC.A,{eventKey:0,title:"Summary",children:[s&&(0,i.jsx)(eS,{title:"Query Params",attrs:s}),(0,i.jsx)(eE,{body:t.body})]}),(0,i.jsxs)(eC.A,{eventKey:1,title:"Headers",children:[(0,i.jsx)(eS,{title:"Headers",attrs:t.headers}),(0,i.jsx)(eS,{title:"Trailers",attrs:t.trailers})]}),(0,i.jsx)(eC.A,{eventKey:2,title:"Raw",children:(0,i.jsx)(eO,{raw:l,type:r})}),(0,i.jsx)(eC.A,{eventKey:3,title:"Binary",children:(0,i.jsx)("pre",{children:(0,i.jsx)("code",{children:n})})})]})]})};var eP=r(84998);class e$ extends l.Component{static defaultProps={defaultValues:{},children:()=>{}};constructor(e){super(e),this.state={...e.defaultValues}}handleChange=(e,t)=>this.setState({[e]:t});render(){let{children:e,className:t}=this.props;return(0,i.jsx)("form",{className:t,children:e({handleChange:this.handleChange,values:this.state})})}}var eI=r(49247),eq=r(41337),eH=r(29571),eU=r(42183),eB="HkpdJqHV5QPTw9aLId6p";let ez=["Content-Length"],eV=({values:e,handleChange:t})=>{let r=(e||[]).map((r,s)=>{let n=r=>n=>{t(((e,t,r={})=>e.map((e,s)=>s===t?{...e,...r}:e))(e,s,{[r]:n.target.value}))},l=ez.includes(r.key);return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)(eI.A,{bsSize:"xsmall",onClick:()=>{t(e.filter((e,t)=>t!==s))},children:(0,i.jsx)(eq.A,{glyph:"minus"})})}),(0,i.jsx)("td",{children:(0,i.jsx)(eU.A,{name:`header-${s}-key`,value:e[s].key,onChange:n("key")})}),(0,i.jsx)("td",{children:(0,i.jsx)(eU.A,{name:`header-${s}-val`,disabled:l,type:"text",value:l?"":e[s].val,onChange:n("val")})})]},s)});return(0,i.jsx)("table",{className:"Tt2WnTz4du3U6Ar0o8pO",children:(0,i.jsx)("tbody",{children:r})})};var e_=r(35095);let eK=({visible:e,handleClose:t,handleSubmit:r,children:s})=>(0,i.jsxs)(e_.A,{show:e,onHide:t,children:[(0,i.jsx)(e_.A.Header,{closeButton:!0,children:(0,i.jsx)(e_.A.Title,{children:"Modify Request"})}),(0,i.jsx)(e_.A.Body,{children:s}),(0,i.jsxs)(e_.A.Footer,{children:[(0,i.jsx)(eI.A,{onClick:()=>t(),children:"Cancel"}),(0,i.jsx)(eI.A,{onClick:()=>{r(),t()},bsStyle:"primary",children:"Replay"})]})]});function eL(e){return e.map(({key:e,val:t})=>({key:e,val:t}))}let eW=({text:e,handleClick:t})=>(0,i.jsx)("div",{className:"AB5QCiQ2QgW6grMagBNA",children:(0,i.jsxs)(eI.A,{bsSize:"small",onClick:t,children:[(0,i.jsx)(eq.A,{glyph:"plus"}),e]})}),eG=({handleClick:e})=>eW({text:"Add Header",handleClick:e}),eQ=({handleClick:e})=>eW({text:"Add Trailer",handleClick:e});function eJ({request:e,...t}){let r=(e=>{let{method:t,rawQuery:r,path:s,headers:n,trailers:i}=e;return{headers:eL(n),trailers:eL(i),method:t,path:s+(r?`?${r}`:""),body:eD(e.body)}})(e);return(0,i.jsx)(e$,{defaultValues:r,children:(({visible:e,handleClose:t,replay:r,request:s})=>({handleChange:n,values:l})=>{let a=({target:{name:e,value:t}})=>n(e,t);return(0,i.jsx)(eK,{visible:e,handleClose:t,handleSubmit:()=>r(eP.tw.fromPartial({mods:{method:{val:l.method},uri:{val:l.path},body:{val:l.body},headers:l.headers,trailers:l.trailers}})),children:(0,i.jsxs)("div",{className:"rh0l1lLRcBt75DhH6NiA",children:[(0,i.jsxs)("div",{className:"tirxuW4BSp2Bwy5Uv4vK",children:[(0,i.jsx)("label",{children:"Method"}),(0,i.jsx)("label",{children:"Path"})]}),(0,i.jsx)("div",{className:`${eB} form-inline`,children:(0,i.jsxs)(eH.A,{children:[(0,i.jsx)(eU.A,{className:"WDeaEeGykSpJdCys2Fv8",value:l.method,name:"method",onChange:a}),(0,i.jsx)(eU.A,{value:l.path,name:"path",onChange:a})]})}),(0,i.jsx)("hr",{}),(0,i.jsx)("label",{children:"Headers"}),(0,i.jsx)(eV,{values:l.headers,handleChange:e=>n("headers",e)}),(0,i.jsx)(eG,{handleClick:()=>{n("headers",l.headers.concat({key:"",val:""}))}}),(0,i.jsx)("hr",{}),(0,i.jsx)("label",{children:"Trailers"}),(0,i.jsx)(eV,{values:l.trailers,handleChange:e=>n("trailers",e)}),(0,i.jsx)(eQ,{handleClick:()=>{n("trailers",l.trailers.concat({key:"",val:""}))}}),(0,i.jsx)("hr",{}),(0,i.jsxs)("div",{className:eB,children:[(0,i.jsx)("label",{children:"Body"}),(0,i.jsx)(eU.A,{disabled:s.body.isBinary,componentClass:"textarea",value:l.body,name:"body",onChange:a})]})]})})})({request:e,...t})})}var eX=r(90058),eY=r(42092);let eZ=({handleClick:e,handleModify:t})=>(0,i.jsx)(eX.A,{bsStyle:"primary",title:"Replay",onClick:e,pullRight:!0,className:"foo",id:"replay",children:(0,i.jsx)(eY.A,{onClick:t,children:"Replay with Modifications"})});var e0={container:"Cj33JYmDEHZzc1b_C0N7"};let e1=new eP.Bv("/grpc",{});class e5 extends l.Component{state={editingRequest:!1};handleReplay=(e=eP.tw.fromPartial({}))=>{let{rtId:t}=this.props;new eP.gd(e1).Play({...e,id:t}).catch(({status:e,statusMessage:t})=>{2===e&&"Response closed without headers"===t?alert("Failed to replay request: could not connect to the ngrok agent, is it no longer running?"):alert(`Failed to replay request: ${t}`)})};handleCurrentReplay=()=>this.handleReplay();handleEdit=()=>this.setState({editingRequest:!0});handleClose=()=>this.setState({editingRequest:!1});render(){let{disabled:e,request:t,rtId:r}=this.props,{editingRequest:s}=this.state;return e?(0,i.jsx)("div",{style:{cursor:"not-allowed"},children:(0,i.jsx)("button",{type:"submit",disabled:!0,className:"btn btn-primary",children:"Replay"})}):(0,i.jsxs)("div",{className:e0.container,children:[(0,i.jsx)(eZ,{handleClick:this.handleCurrentReplay,handleModify:this.handleEdit}),(0,i.jsx)(eJ,{visible:s,handleClose:this.handleClose,request:t,replay:this.handleReplay},r)]})}}let e9=({roundTrip:e})=>{let t=e.request,r=t.body,{done:s}=r,n=s&&""!==r.readError,l=s&&!n&&t.size!==t.capturedSize,a=s&&!n&&!l;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{className:"wrapped",children:[t.method," ",t.path]}),!s&&(0,i.jsx)("div",{className:"alert alert-warning",children:"The request body is still being read."}),n&&(0,i.jsxs)("div",{className:"alert alert-warning",children:["The connection was closed before this request could be fully read;"," ",t.capturedSize,' bytes were captured. It cannot be replayed. The error encountered while reading the request body was "',r.readError,'".']}),l&&(0,i.jsxs)("div",{className:"alert alert-warning",children:["This request was too big; only ",t.capturedSize," bytes were stored. It cannot be replayed."]}),(0,i.jsx)(ey,{rtId:e.id,body:t.body,msg:"request"}),(0,i.jsx)(eM,{rightControl:(0,i.jsx)(e5,{request:t,disabled:!a,rtId:e.id}),type:"request",payload:t})]})};var e2={loading:"yLVQ1q_yoW6lNMMo4N0I"};let e6={2:"text-info",3:"muted",4:"text-warning",5:"text-danger"},e3=E(e=>e>=60?D(Math.floor(e/60),"minute"):D(e,"second"));function e4({roundTrip:e}){let{response:t}=e;if(!t){let t=e.start;return(0,i.jsx)(o,{delay:0,children:()=>{let e=new Date().getTime()/1e3-R(t);return e>=1?(0,i.jsx)("div",{className:e2.loading,children:(0,i.jsxs)("p",{children:["Waiting to receive a response from your server (",e3(e)," so far)."]})}):(0,i.jsx)(i.Fragment,{})}})}let r=t.body,{done:s}=r,n=s&&""!==r.readError,l=s&&!n&&t.size!==t.capturedSize;return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:e6[(t.status||"").substring(0,1)],children:t.status}),!s&&(0,i.jsx)("div",{className:"alert alert-warning",children:"The response body is still being read."}),n&&(0,i.jsxs)("div",{className:"alert alert-warning",children:["The connection was closed before this response could be fully read;"," ",t.capturedSize,' bytes were captured. The error encountered while reading the response body was "',r.readError,'".']}),l&&(0,i.jsxs)("div",{className:"alert alert-warning",children:["This response was too big; only ",t.capturedSize," bytes were stored."]}),(0,i.jsx)(ey,{rtId:e.id,body:t.body,msg:"response"}),(0,i.jsx)(eM,{type:"response",payload:t})]})}let e8=({roundTrip:e})=>(0,i.jsxs)("div",{className:"agGm4ZHo2ynp2y0pMJwu",children:[(0,i.jsxs)("div",{className:"SQTMcP1EPvWl7g1cwpj0",children:[(0,i.jsxs)("div",{className:"Y0CvV2V_mvpESQHQjGOY",children:[(0,i.jsx)(ej,{t:e.start}),(0,i.jsxs)("div",{className:"MJpSu6kOmO7teZN5uXSk",children:[(0,i.jsx)("i",{className:"glyphicon glyphicon-time"})," Duration",(0,i.jsx)("span",{className:"muted",children:ev(e.duration)})]})]}),(0,i.jsx)("div",{className:"FCt2oaamvYnTMfllC2X7",title:e.remoteAddr,children:(0,i.jsxs)("div",{children:[(0,i.jsx)("i",{className:"glyphicon glyphicon-user"}),(0,i.jsx)("span",{children:"IP"}),(0,i.jsx)("span",{className:"muted cUQIEIDQh5DDbKPVG7KT",title:e.remoteAddr,children:e.remoteAddr})]})})]}),(0,i.jsx)("hr",{}),(0,i.jsx)(e9,{roundTrip:e}),(0,i.jsx)("hr",{className:"FpanI6p4mfugrXsffwRn"}),(0,i.jsx)(e4,{roundTrip:e})]});var e7={allRequests:"RmZAZH288nCkWCQKW1p9",path:"vSPB4akEEVGeH_wzG7Z2",selected:"H9SKKAiUqoPOaQGslrNr",inspectSelector:"huFRnkHkHvNfjfrp4vGr",roundTripSelect:"YdX7V31RLSmX_cMLjsKB"};let te=({handleSelect:e,rt:t,selected:r})=>{let{response:s}=t;return(0,i.jsxs)("tr",{className:(0,I.a)({[e7.selected]:r}),onClick:()=>e(),children:[(0,i.jsx)("td",{className:"wrapped",children:(0,i.jsxs)("div",{className:e7.path,children:[t.request.method," ",t.request.path]})}),void 0!==s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{children:s.status}),(0,i.jsx)("td",{children:(0,i.jsx)("span",{className:"pull-right",children:ev(t.duration)})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("td",{}),(0,i.jsx)("td",{})]})]})},tt=({onClear:e,roundTrips:t,selected:r,onSelect:s,filtersActive:n,totalRoundTrips:l})=>(0,i.jsxs)("div",{className:e7.inspectSelector,children:[(0,i.jsxs)("h4",{className:e7.allRequests,children:[(0,i.jsx)("button",{type:"button",onClick:e,className:"btn btn-default pull-right",children:"Clear Requests"}),n?`Filtered Requests: matched ${t.length} of ${l}`:"All Requests"]}),(0,i.jsx)(tr,{roundTrips:t,selected:r,onSelect:s})]}),tr=({roundTrips:e,selected:t,onSelect:r})=>0===e.length?(0,i.jsx)("div",{className:"well",children:(0,i.jsx)("h4",{children:"No matches"})}):(0,i.jsx)("table",{className:`table ${e7.roundTripSelect}`,children:(0,i.jsx)("tbody",{children:e.map(e=>(0,i.jsx)(te,{handleSelect:()=>r(e),selected:void 0!==t&&t.id===e.id,rt:e},e.id))})});var ts={inspectContainer:"PTeamEDAhtMvoWEA7nM7",inspectPage:"a8LOfVEpc2EcaEVLfpFw",selector:"ROWjpUDGqcGwDENR_yak",section:"UtjpYOmvivsgtHz4FDqn"};let tn=({onClear:e,plan:t,expires:r,selected:s,handleSelectTrip:n,children:l,roundTrips:a,handleUpdateFilter:o,multiFilter:c,totalRoundTrips:d})=>(0,i.jsxs)("div",{className:ts.inspectContainer,children:[l,(0,i.jsx)(M,{plan:t,expires:r}),(0,i.jsx)(eg,{multiFilter:c,roundTrips:a,handleUpdateFilter:o}),(0,i.jsxs)("div",{className:ts.inspectPage,children:[(0,i.jsx)("div",{className:`${ts.section} ${ts.selector}`,children:(0,i.jsx)(tt,{roundTrips:a,selected:s,onSelect:n,onClear:e,filtersActive:c.filters.length>0,totalRoundTrips:d})}),s&&(0,i.jsx)("div",{className:ts.section,children:(0,i.jsx)(e8,{roundTrip:s})})]})]}),ti=(0,i.jsx)(k.mg,{children:(0,i.jsx)("title",{children:"ngrok - Inspect"})}),tl=(e,t)=>e.filter(e=>t.match(e)),ta=e=>[...e].sort((e,t)=>R(t.start)-R(e.start));class to extends l.Component{state={filter:new v([])};UNSAFE_componentWillReceiveProps(e){if(void 0===e.selectedRoundTrip){let t=ta(tl(this.props.roundTrips,this.state.filter));t.length>0&&e.handleSelectTrip(t[0])}}handleUpdateFilter=e=>{this.setState({filter:e})};render(){let{session:e,roundTrips:t,selectedRoundTrip:r,handleClear:s,handleSelectTrip:n}=this.props,{filter:l}=this.state,{expires:a,planName:o,tunnels:c}=e;if(0===t.length){let e=Object.values(c).map(({url:e})=>e).sort();return(0,i.jsx)(P,{plan:o,expires:a,tunnelURLs:e,children:ti})}let d=ta(tl(t,l));return(0,i.jsx)(tn,{plan:o,expires:a,selected:r||d[0],onClear:s,handleSelectTrip:n,roundTrips:d,handleUpdateFilter:this.handleUpdateFilter,multiFilter:l,totalRoundTrips:t.length,children:ti})}}var tc=r(47696);let td=({children:e,className:t})=>(0,i.jsx)("div",{className:`container ${t||""}`,children:(0,i.jsx)("div",{className:"row",children:e})}),th=e=>e?"enabled":"disabled",tu=({config:e,version:t})=>{let r=(e=>{let t=[];return Object.entries(e).sort(([e],[t])=>e>t?1:-1).forEach(([e,r])=>{t.push([e,"logFormat"===e?r?`${r}`:"logfmt":"rootCas"===e?r?`${r}`:"ngrok.com trusted root":"consoleUi"===e||"updateCheck"===e||"updateAuto"===e?th(r):`${r}`])}),t})({...e,version:t});return(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{children:"Global"}),(0,i.jsx)(ew,{attrs:r})]})};function tp(e){return Number(e?.nanos??0)/1e9}let tx=({units:e,title:t,Head:r,Row:s,tunnels:n,metrics:a,getTunnelMetric:o})=>{let c=Object.entries(n).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>(0,i.jsx)(l.Fragment,{children:(0,i.jsx)(s,{name:e,metrics:o(t)},e)},e));return(0,i.jsxs)("div",{style:{marginBottom:"50px"},children:[(0,i.jsxs)("h3",{children:[t,!!e&&(0,i.jsxs)("small",{className:"muted pull-right",style:{lineHeight:"28px"},children:["(in ",e,")"]})]}),(0,i.jsxs)("table",{className:"table-hover table",children:[(0,i.jsx)("thead",{children:(0,i.jsx)(r,{})}),(0,i.jsxs)("tbody",{children:[c,c.length>1&&(0,i.jsx)(s,{name:"All",metrics:a,className:"info"})]})]})]})},tg=e=>e.map(e=>(0,i.jsx)("td",{children:e.toFixed(2)},e)),tm=e=>t=>{var r;return r=t.metrics,"tcpConnections"===e?r.tcpConnections:r.httpRequests},tj=({tunnels:e,metrics:t})=>(0,i.jsxs)("div",{children:[(0,i.jsx)(tx,{title:"Connections",Head:()=>{let e="Connections per second";return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"tunnel"}),(0,i.jsx)("th",{title:"All time total connection count",children:"total"}),(0,i.jsx)("th",{title:"Connections open",children:"open"}),(0,i.jsx)("th",{title:`${e}, 1 minute moving average`,children:"/sec 1m"}),(0,i.jsx)("th",{title:`${e}, 5 minute moving average`,children:"/sec 5m"}),(0,i.jsx)("th",{title:`${e}, 15 minute moving average`,children:"/sec 15m"})]})},Row:({name:e,metrics:t,className:r})=>(0,i.jsxs)("tr",{className:r,children:[(0,i.jsx)("th",{children:e}),(0,i.jsx)("td",{children:t.count}),(0,i.jsx)("td",{children:t.gauge}),tg([t.rate1,t.rate5,t.rate15])]},e),tunnels:e,getTunnelMetric:tm("tcpConnections"),metrics:t.tcpConnections}),(0,i.jsx)(tx,{title:"Connection Durations",units:"seconds",Head:()=>{let e="Connection duration in seconds";return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"tunnel"}),(0,i.jsx)("th",{title:`${e}, 50th percentile`,children:"50%"}),(0,i.jsx)("th",{title:`${e}, 90th percentile`,children:"90%"}),(0,i.jsx)("th",{title:`${e}, 95th percentile`,children:"95%"}),(0,i.jsx)("th",{title:`${e}, 99th percentile`,children:"99%"})]})},Row:({name:e,metrics:t,className:r})=>(0,i.jsxs)("tr",{className:r,children:[(0,i.jsx)("th",{children:e}),tg([t.p50,t.p90,t.p95,t.p99].map(e=>e?tp(e):0))]}),tunnels:e,getTunnelMetric:tm("tcpConnections"),metrics:t.tcpConnections}),(0,i.jsx)(tx,{title:"HTTP Requests",Head:()=>{let e="HTTP requests per second";return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"tunnel"}),(0,i.jsx)("th",{title:"All time total http count",children:"total"}),(0,i.jsx)("th",{title:`${e}, 1 minute moving average`,children:"/sec 1m"}),(0,i.jsx)("th",{title:`${e}, 5 minute moving average`,children:"/sec 5m"}),(0,i.jsx)("th",{title:`${e}, 15 minute moving average`,children:"/sec 15m"})]})},Row:({name:e,metrics:t,className:r})=>(0,i.jsxs)("tr",{className:r,children:[(0,i.jsx)("th",{children:e}),(0,i.jsx)("td",{children:t.count}),tg([t.rate1,t.rate5,t.rate15])]}),tunnels:e,getTunnelMetric:tm("httpRequests"),metrics:t.httpRequests}),(0,i.jsx)(tx,{title:"HTTP Request Durations",units:"seconds",Head:()=>{let e="HTTP requests duration in seconds";return(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"tunnel"}),(0,i.jsx)("th",{title:`${e}, 50th percentile`,children:"50%"}),(0,i.jsx)("th",{title:`${e}, 90th percentile`,children:"90%"}),(0,i.jsx)("th",{title:`${e}, 95th percentile`,children:"95%"}),(0,i.jsx)("th",{title:`${e}, 99th percentile`,children:"99%"})]})},Row:({name:e,metrics:t,className:r})=>(0,i.jsxs)("tr",{className:r,children:[(0,i.jsx)("th",{children:e}),tg([t.p50,t.p90,t.p95,t.p99].map(e=>e?tp(e):0))]}),tunnels:e,getTunnelMetric:tm("httpRequests"),metrics:t.httpRequests})]});function tf({status:e,lastError:t,version:r,running:s}){if(!s)return(0,i.jsx)(i.Fragment,{children:"not running"});switch(e){case"reconnecting":return(0,i.jsxs)(i.Fragment,{children:["reconnecting - ",t]});case"online":return(0,i.jsxs)(i.Fragment,{children:["online - server ",r]});default:return(0,i.jsx)(i.Fragment,{children:e})}}let tv=e=>(0,i.jsx)("small",{style:{lineHeight:"28px"},className:"pull-right text-muted",children:(0,i.jsx)(tf,{...e})}),ty=({status:e,lastError:t,version:r,tunnels:s,running:n})=>{let l=Object.entries(s).sort(([e],[t])=>e.localeCompare(t)).map(([e,t])=>(0,i.jsxs)("li",{className:"list-unstyled",children:[(0,i.jsx)("h4",{style:{fontWeight:"bold"},children:e}),(0,i.jsx)(ew,{attrs:[["URL",t.url],["Addr",t.addr],["Inspect",th(t.inspect)],["Proto",t.proto]]})]},e));return(0,i.jsxs)("div",{children:[(0,i.jsxs)("h3",{children:["Tunnels",(0,i.jsx)(tv,{status:e,lastError:t,version:r,running:n})]}),(0,i.jsx)("hr",{}),(0,i.jsx)("ul",{className:"list-unstyled",children:l})]})},tb=({session:e,running:t,config:r,version:s})=>{let{metrics:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"col-md-5",children:[(0,i.jsx)(k.mg,{children:(0,i.jsx)("title",{children:"ngrok - Status"})}),(0,i.jsx)("h2",{children:"Configuration"}),(0,i.jsx)("hr",{}),e&&(0,i.jsx)(ty,{status:e.status,lastError:e.lastError,version:s,tunnels:e.tunnels,running:t}),r&&(0,i.jsx)(tu,{config:r,version:s})]}),(0,i.jsxs)("div",{className:"col-md-6 col-md-offset-1",children:[(0,i.jsx)("h2",{children:"Metrics"}),(0,i.jsx)("hr",{}),n&&(0,i.jsx)(tj,{tunnels:e.tunnels,metrics:n})]})]})};var tw=r(66935),tS=r(73021);let tN=({session:e,running:t})=>{let{text:r,title:s,className:n}=((e,t)=>{if(!1===t)return{text:"not running",title:void 0,className:void 0};let{status:r}=e;return"connecting"===r?{text:"connecting",className:"label-info",title:"connecting"}:"online"===r?{text:"online",className:"label-success",title:"online"}:"reconnecting"===r?{text:"reconnecting",className:"label-error",title:e.lastError}:{text:"shutting down",className:"label-warning",title:"shutting down"}})(e,t);return(0,i.jsx)("span",{style:{lineHeight:2},className:`label ${n||""}`,title:s,children:r})};var tC=r(4311),tA=r(74447);let tT=({routes:e,session:t,running:r})=>(0,i.jsxs)(tC.A,{fixedTop:!0,inverse:!0,children:[(0,i.jsxs)(tC.A.Header,{children:[(0,i.jsx)("a",{href:"/",className:"navbar-brand",children:"ngrok"}),(0,i.jsx)("li",{className:(0,I.a)("navbar-text","inline-block list-none"),id:"connection-status",children:(0,i.jsx)(tN,{session:t,running:r})}),(0,i.jsx)(tC.A.Toggle,{})]}),(0,i.jsxs)(tC.A.Collapse,{children:[(0,i.jsx)(tA.A,{children:e.map(e=>(0,i.jsx)("li",{children:(0,i.jsx)(tw.k2,{to:e.path,children:e.label})},e.path))}),(0,i.jsx)(tA.A,{pullRight:!0,children:(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://ngrok.com/docs",children:"Documentation"})})})]})]}),tF=({label:e,error:t,clearError:r,children:s})=>(0,i.jsx)("div",{className:"h-full",children:(0,i.jsxs)(td,{className:e.toLowerCase(),children:[t&&(0,i.jsx)(tc.A,{bsStyle:"danger",onDismiss:r,children:t}),s]},e)}),tk=({session:e,running:t,error:r,clearError:s,handleClear:n,handleSelectTrip:l,roundTrips:a,selectedRoundTrip:o,config:c,version:d})=>(0,i.jsx)(tw.Kd,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.mg,{children:(0,i.jsx)("title",{children:"ngrok"})}),(0,i.jsx)(tT,{session:e,running:t,routes:[{path:"/inspect/http",label:"Inspect",Component:to},{path:"/status",label:"Status",Component:tb}]}),(0,i.jsxs)(tS.BV,{children:[(0,i.jsx)(tS.qh,{path:"/inspect/http",element:(0,i.jsx)(tF,{label:"Inspect",error:r,clearError:s,children:(0,i.jsx)(to,{handleClear:n,handleSelectTrip:l,session:e,roundTrips:a,selectedRoundTrip:o,running:t})})}),(0,i.jsx)(tS.qh,{path:"/status",element:(0,i.jsx)(tF,{label:"Status",error:r,clearError:s,children:(0,i.jsx)(tb,{session:e,running:t,config:c,version:d})})})]})]})}),tR=e=>Math.round(100*Number(e))/100,tD=e=>{let{p50:t,p90:r,p95:s,p99:n}=e;return{count:e.count,gauge:e.gauge,rate1:tR(e.rate1),rate5:tR(e.rate5),rate15:tR(e.rate15),p50:t?tR(tp(t)):0,p90:r?tR(tp(r)):0,p95:s?tR(tp(s)):0,p99:n?tR(tp(n)):0}},tE=e=>{if(e)return{tcpConnections:tD(e.tcpConnections),httpRequests:tD(e.httpRequests)}},tO=e=>{let t=tE(e.metrics),r={};return Object.entries(e.tunnels).forEach(([e,t])=>{let s=tE(t.metrics);r[e]={...t,metrics:s}}),{expires:e.expires,lastError:e.lastError,planName:e.planName,status:e.status,metrics:t,tunnels:r}};class tM extends l.Component{grpc=new eP.Bv("/grpc",{});webClient=new eP.gd(this.grpc);state={hydrated:!1,session:void 0,roundTripMap:{},roundTripList:[],config:void 0,selectedRoundTripID:void 0,error:void 0,running:null,version:""};componentDidMount(){this.loadPreloadedData(),this.attachStreaming()}loadPreloadedData=async()=>{try{let e=await this.webClient.Preloaded({});this.setRoundTrips(e.roundTrips),this.setState({session:e.session,config:e.config,hydrated:!0,version:e.version})}catch(e){this.setState({error:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"There was an error loading data:"}),(0,i.jsx)("p",{children:e?.message??e}),(0,i.jsx)("a",{onClick:this.reload,children:"Reload the page and try again"})]})})}};reload=()=>{window.location.reload()};attachStreaming=()=>{let{running:e}=this.state;this.webClient.State({}).subscribe({next:({session:t,roundTrip:r})=>{e||this.setState({running:!0}),t&&this.onSession(t),r&&this.onRoundTrip(r)},complete:()=>{e&&this.setState({running:!1})}})};onSession=e=>{var t,r;let{session:s}=this.state;t=e,(r=s)&&JSON.stringify(tO(t))===JSON.stringify(tO(r))||this.setState({session:e})};setRoundTrips=(e=[])=>{let t={};e.forEach(e=>{t[e.id]=e}),this.setState({roundTripList:e,roundTripMap:t})};handleSelectTrip=e=>{this.setState({selectedRoundTripID:e.id})};onRoundTrip=e=>{let{roundTripMap:t={}}=this.state,r={...t,[e.id]:e},s=ta(Object.values(r));this.setState({roundTripList:s,roundTripMap:r})};handleClear=()=>{this.webClient.Clear({}).then(()=>{this.setState({roundTripMap:{},roundTripList:[],selectedRoundTripID:void 0})}).catch(()=>{this.setState({error:"There was an error clearing out the requests."})})};clearError=()=>{this.setState({error:void 0})};render(){let e,{hydrated:t,roundTripList:r,roundTripMap:s,version:n,selectedRoundTripID:l,running:a,error:c}=this.state;if(c)return(0,i.jsx)(tc.A,{bsStyle:"danger",children:c});if(!t)return(0,i.jsx)(o,{delay:250,children:(0,i.jsx)("div",{className:"text-6 text-primary flex h-full items-center justify-center text-center",children:(0,i.jsx)("p",{children:"Loading"})})});let{session:d,config:h}=this.state;return void 0!==l&&void 0!==s&&(e=s[l]),(0,i.jsx)(tk,{running:a,error:c,clearError:this.clearError,session:d,roundTrips:r,selectedRoundTrip:e,config:h,version:n,handleClear:this.handleClear,handleSelectTrip:this.handleSelectTrip})}}let tP=window.document.getElementById("app");if(!tP)throw Error("Something went wrong: cannot render agent! Please refresh the page to try again.");(0,a.H)(tP).render((0,i.jsx)(l.StrictMode,{children:(0,i.jsx)(()=>(0,i.jsx)(k.vd,{children:(0,i.jsx)(tM,{})}),{})}))}},a={};function o(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return l[e].call(r.exports,r,r.exports,o),r.exports}o.m=l,e=[],o.O=function(t,r,s,n){if(r){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[r,s,n];return}for(var l=1/0,i=0;i<e.length;i++){for(var r=e[i][0],s=e[i][1],n=e[i][2],a=!0,c=0;c<r.length;c++)(!1&n||l>=n)&&Object.keys(o.O).every(function(e){return o.O[e](r[c])})?r.splice(c--,1):(a=!1,n<l&&(l=n));if(a){e.splice(i--,1);var d=s();void 0!==d&&(t=d)}}return t},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},o.t=function(e,s){if(1&s&&(e=this(e)),8&s||"object"==typeof e&&e&&(4&s&&e.__esModule||16&s&&"function"==typeof e.then))return e;var n=Object.create(null);o.r(n);var i={};t=t||[null,r({}),r([]),r(r)];for(var l=2&s&&e;"object"==typeof l&&!~t.indexOf(l);l=r(l))Object.getOwnPropertyNames(l).forEach(function(t){i[t]=function(){return e[t]}});return i.default=function(){return e},o.d(n,i),n},o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch{if("object"==typeof window)return window}}(),o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s={524:0},o.O.j=function(e){return 0===s[e]},n=function(e,t){var r,n,i=t[0],l=t[1],a=t[2],c=0;if(i.some(function(e){return 0!==s[e]})){for(r in l)o.o(l,r)&&(o.m[r]=l[r]);if(a)var d=a(o)}for(e&&e(t);c<i.length;c++)n=i[c],o.o(s,n)&&s[n]&&s[n][0](),s[n]=0;return o.O(d)},(i=self.webpackChunkngrok_js=self.webpackChunkngrok_js||[]).forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i));var c=o.O(void 0,[121,271],function(){return o(52396)});o.O(c)}();